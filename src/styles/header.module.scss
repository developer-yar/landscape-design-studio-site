@import "mixins/breakpoints.scss";
@import "mixins/bg-image.scss";
@import "mixins/adaptive-font.scss";

$tranitionTime: 0.5s;
$headerHeight: 56px;
$burgerWidth: 27px;
$burgerHeight: 19px;
$burgerLayerHeight: 3px;
$burgerTopBottomGap: 8px;

.header {
  background-color: var(--main-color);
}

.body {
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  transition: background-color $tranitionTime;
  height: $headerHeight;
  padding-inline: 16px;
  margin: auto;
  max-width: 1200px;

  @include phone() {
    position: relative;
    justify-content: flex-start;
  }

  @include tablet() {
    gap: 32px;
  }
}

.logotype {
  display: flex;
  height: 25px;
  flex: 0 0 99px;
  @include bg-image(
    "data:image/svg+xml,%3Csvg width='99' height='25' viewBox='0 0 99 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20.2425 0.0466418C20.1493 0 20.056 0.0466418 20.0093 0.139925C19.8228 0.606343 19.4963 0.979478 19.1231 1.30597C18.75 1.63246 18.2836 1.86567 17.8172 2.09888C16.8843 2.51866 15.8582 2.75187 14.8787 2.93843C13.8526 3.125 12.8265 3.31157 11.847 3.49813C10.8209 3.73134 9.79478 3.96455 8.8153 4.33769C8.30224 4.52425 7.83582 4.75746 7.3694 4.99067C7.13619 5.1306 6.90299 5.27052 6.66978 5.41045C6.57649 5.50373 6.43657 5.55037 6.34328 5.64366C6.25 5.73694 6.11007 5.78358 6.01679 5.87687C5.17724 6.52985 4.47761 7.3694 3.96455 8.30224C3.73134 8.76866 3.49813 9.28172 3.35821 9.84142C3.21828 10.3545 3.17164 10.9142 3.17164 11.4739C3.17164 12.0336 3.26493 12.5933 3.45149 13.1063C3.54478 13.3862 3.63806 13.6194 3.73134 13.8993C3.82463 14.1325 4.05784 14.4123 4.29104 14.459C4.47761 14.5056 4.66418 14.319 4.75746 14.2257C10.4944 8.16231 16.0914 10.2146 19.5896 3.73134C19.4963 3.91791 19.4496 4.19776 19.3097 4.5709C19.1698 4.94403 18.9366 5.36381 18.6567 5.83022C18.3769 6.29664 18.0037 6.8097 17.584 7.32276C17.1642 7.83582 16.6511 8.34888 16.0448 8.90858C15.4851 9.42164 14.8321 9.9347 14.1325 10.4478C12.7799 11.4739 11.2407 12.4067 9.65485 13.3862C8.11567 14.3657 6.52985 15.2985 5.1306 16.3246C4.43097 16.8377 3.77799 17.3974 3.17164 17.9104C2.5653 18.4701 2.05224 19.0299 1.63246 19.6362C1.21269 20.2425 0.839552 20.8022 0.606343 21.3619C0.373134 21.9216 0.186567 22.4347 0.139925 22.8545C0.0932836 23.0877 0.0466418 23.2743 0.0466418 23.4608C0.0466418 23.5541 0.0466418 23.6474 0 23.694C0 23.7407 0 23.7873 0 23.7873C0 23.834 0 23.834 0 23.8806C0 24.1138 0 24.2071 0 24.2071V24.2537C0 24.6735 0.326493 25 0.746269 25C1.16604 25 1.49254 24.6735 1.49254 24.2537C1.49254 24.2537 1.49254 24.1604 1.49254 23.9272C1.49254 23.8806 1.49254 23.8806 1.49254 23.834C1.49254 23.7873 1.49254 23.7873 1.49254 23.7407C1.49254 23.694 1.49254 23.6474 1.49254 23.5541C1.49254 23.4142 1.53918 23.2743 1.53918 23.0877C1.58582 22.9011 1.72575 22.4813 1.86567 21.9683C2.05224 21.5019 2.28545 20.9888 2.65858 20.4291C3.03172 19.916 3.45149 19.3563 3.96455 18.7966C4.47761 18.2369 5.08396 17.7239 5.73694 17.1642C5.78358 17.1175 5.87687 17.0709 5.92351 17.0243L5.97015 17.0709C6.11007 17.1642 6.25 17.2575 6.38993 17.3507C6.66978 17.5373 6.94963 17.7239 7.22948 17.8638C7.83582 18.1903 8.44216 18.4235 9.09515 18.5634C9.74813 18.7034 10.4011 18.7966 11.0541 18.7966C11.7071 18.7966 12.3601 18.7034 13.0131 18.5634C14.2724 18.2836 15.4851 17.6772 16.5578 16.9776C17.6306 16.2313 18.5634 15.3452 19.3563 14.319C20.1493 13.2929 20.8022 12.2202 21.3153 11.0075C21.8284 9.84142 22.1549 8.58209 22.2481 7.27612C22.3881 6.01679 22.2481 4.71082 21.9216 3.45149C21.5952 2.19216 20.9888 1.07276 20.2425 0C20.2892 0.0932836 20.2425 0.0932836 20.2425 0.0466418Z' fill='white'/%3E%3Cpath d='M39.3632 18.6368L37.6495 14.7H30.7716L28.9885 18.6368H26.3022L34.3611 1.5L42.0495 18.6368H39.3632ZM31.7674 12.3842H36.6769L34.2685 6.91895L31.7674 12.3842Z' fill='white'/%3E%3Cpath d='M43.589 8.40105H52.4816V18.6368H50.1195V10.5316H45.9511V18.6368H43.589V8.40105Z' fill='white'/%3E%3Cpath d='M57.711 8.40105V9.51263C58.4829 8.58632 59.5173 8.12316 60.8141 8.12316C62.1882 8.12316 63.3538 8.61719 64.311 9.60526C65.2836 10.5933 65.7699 11.8902 65.7699 13.4958C65.7699 15.1014 65.2682 16.4137 64.2646 17.4326C63.2611 18.4516 62.1187 18.9611 60.8373 18.9611C60.5748 18.9611 60.2969 18.9302 60.0036 18.8684C59.7103 18.8067 59.332 18.66 58.8689 18.4284C58.4211 18.1814 58.0352 17.8572 57.711 17.4558V23.5H55.3489V8.40105H57.711ZM60.4667 10.2537C59.6794 10.2537 59.0001 10.547 58.4289 11.1337C57.8576 11.7204 57.572 12.5309 57.572 13.5653C57.572 14.4916 57.8267 15.2712 58.3362 15.9042C58.8457 16.5218 59.5559 16.8305 60.4667 16.8305C61.3313 16.8305 62.0183 16.514 62.5278 15.8811C63.0527 15.2481 63.3152 14.4607 63.3152 13.5189C63.3152 12.5 63.0296 11.7049 62.4583 11.1337C61.9025 10.547 61.2387 10.2537 60.4667 10.2537Z' fill='white'/%3E%3Cpath d='M75.4906 14.8621L77.4822 15.9737C77.0962 16.6839 76.6485 17.2628 76.139 17.7105C75.1973 18.5442 74.0085 18.9611 72.5727 18.9611C71.2604 18.9611 70.1025 18.4979 69.099 17.5716C68.111 16.6453 67.6169 15.3175 67.6169 13.5884C67.6169 11.9365 68.0646 10.6165 68.9601 9.62842C69.8555 8.62491 71.052 8.12316 72.5496 8.12316C74.2941 8.12316 75.591 8.74842 76.4401 9.99895C77.0731 10.9407 77.3896 12.1835 77.3896 13.7274V14.0979H70.0717C70.0871 14.9625 70.3727 15.634 70.9285 16.1126C71.4997 16.5912 72.1327 16.8305 72.8275 16.8305C73.4296 16.8305 73.9699 16.6453 74.4485 16.2747C74.8808 15.9505 75.2282 15.4796 75.4906 14.8621ZM70.2106 12.1526H74.958C74.819 11.566 74.5334 11.1028 74.1011 10.7632C73.6843 10.4235 73.1825 10.2537 72.5959 10.2537C72.0247 10.2537 71.5229 10.4312 71.0906 10.7863C70.6583 11.126 70.365 11.5814 70.2106 12.1526Z' fill='white'/%3E%3Cpath d='M88.3168 8.40105V18.6368H85.9547V10.5316H82.8979V14.6537C82.8979 15.9042 82.5814 16.8846 81.9484 17.5947C81.3 18.3204 80.3814 18.6832 79.1926 18.6832C79.0691 18.6832 78.8684 18.6677 78.5905 18.6368V16.5063C78.7758 16.5372 78.9224 16.5526 79.0305 16.5526C79.5554 16.5526 79.9723 16.3828 80.281 16.0432C80.5126 15.7807 80.6284 15.333 80.6284 14.7V8.40105H88.3168Z' fill='white'/%3E%3Cpath d='M91.1938 8.40105H93.5559V12.0368H94.9454C95.3777 12.0368 95.7251 12.0523 95.9875 12.0832C96.25 12.0986 96.5896 12.1912 97.0065 12.3611C97.4387 12.5154 97.7938 12.7547 98.0717 13.0789C98.5812 13.6502 98.8359 14.3912 98.8359 15.3021C98.8359 16.3828 98.5272 17.2088 97.9096 17.78C97.6317 18.0425 97.3075 18.2432 96.937 18.3821C96.5665 18.5211 96.25 18.5982 95.9875 18.6137C95.7405 18.6291 95.3854 18.6368 94.9223 18.6368H91.1938V8.40105ZM93.5559 16.5989H94.6212C95.1924 16.5989 95.6016 16.5218 95.8486 16.3674C96.2037 16.1512 96.3812 15.8039 96.3812 15.3253C96.3812 14.8775 96.2114 14.5379 95.8717 14.3063C95.6247 14.1519 95.2156 14.0747 94.6444 14.0747H93.5559V16.5989Z' fill='white'/%3E%3C/svg%3E%0A",
    contain
  );

  @include phone() {
    position: absolute;
    inset: 50% 0 0 50%;
    transform: translate(-50%, -50%);
  }
}

.burger {
  display: none;

  @include phone() {
    display: block;
    cursor: pointer;
    position: relative;
    width: $burgerWidth;
    height: $burgerHeight;
    transform: rotate(0deg);
    transition: all 0.25s;

    &.active {
      transform: rotate(90deg);

      &::before {
        transform: rotate(45deg) translateY(0px);
      }

      &::after {
        transform: rotate(-45deg) translateY(0px);
      }

      .layer {
        transform: scale(0);
      }
    }
  }

  > .layer,
  &::before,
  &::after {
    position: absolute;
    content: "";
    width: 100%;
    height: $burgerLayerHeight;
    transition: transform 0.25s;
    background-color: white;
  }

  &::before {
    inset: $burgerTopBottomGap 0 auto 0;
    transform: translateY(-($burgerTopBottomGap));
  }

  &::after {
    inset: auto 0 $burgerTopBottomGap 0;
    transform: translateY($burgerTopBottomGap);
  }

  .layer {
    inset: $burgerTopBottomGap auto auto auto;
    transform: scale(1);
  }
}

.navigation {
  background-color: var(--main-color);

  @include phone() {
    display: block;
    position: absolute;
    height: 0;
    inset: $headerHeight 0px 0px 0px;
    overflow: hidden;
    transition: height $tranitionTime ease-in;
    z-index: 99999999999999999999999999999;

    &.active {
      height: calc(100vh - $headerHeight);
      overflow: auto;

      .item {
        opacity: 1;
        transform: scale(1) translateY(0px);
        $iterator: 1;
        $delayTime: 250ms;

        @while $iterator < 6 {
          &:nth-child(#{$iterator}) {
            transition-delay: $delayTime + ($iterator * 50),
              $delayTime + ($iterator * 50);
          }

          $iterator: $iterator + 1;
        }

        .dropdownBlock {
          display: block;
        }
      }
    }
  }

  @include tablet() {
    overflow: auto;
    white-space: nowrap;
  }
}

.menu {
  display: flex;

  @include phone() {
    display: grid;
    padding: 16px;
    margin: auto;
    overflow-x: hidden;
    gap: 16px;
  }

  @include tablet() {
    gap: 32px;
  }
}

.item {
  cursor: pointer;

  @include phone() {
    display: block;
    opacity: 0;
    transform: scale(1.1) translateY(-24px);
    transition: opacity $tranitionTime ease-out,
      transform $tranitionTime ease-out;
  }
}

.link {
  color: white;
  display: flex;
  align-items: center;
  @include adaptive-font(16, 14);

  &:hover {
    color: rgb(223, 223, 223);
  }

  @include phone() {
    @include adaptive-font(28, 24);
  }

  @include tablet() {
    height: $headerHeight;
  }
}

.menu-toggle,
.dropdown-toggle {
  visibility: hidden;
  opacity: 0;
  display: none;
}

.dropdownMenu {
  > .linkWithIcon {
    display: flex;
    align-items: center;

    @include phone() {
      justify-content: space-between;

      &.active {
        .dropdownIcon {
          transform: rotate(-180deg);
        }

        ~ .dropdownBlock {
          max-height: 500px;
        }
      }
    }

    .link ~ .dropdownIcon {
      margin-inline-start: 8px;
      width: 16px;
      height: 9.131px;
      @include bg-image(
        "data:image/svg+xml;charset=utf8, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 32' style='enable-background:new 0 0 48 32' xml:space='preserve'%3E%3Cpath d='M0 2.5c.1-.2.1-.5.2-.7C.9-.1 3-.7 4.3.8 5.7 2.4 7 4 8.3 5.6c5.2 6.3 10.4 12.6 15.5 19l.2.2.2-.2c4.5-5.5 9-11 13.5-16.4 2-2.4 4-4.8 5.9-7.2.7-.9 1.6-1.2 2.6-.9 1 .3 1.6 1.2 1.8 2.3V3.2c-.1 1-.6 1.6-1.2 2.3-5.5 6.7-11 13.4-16.5 20.2-1.5 1.8-2.9 3.6-4.4 5.3-1 1.3-2.7 1.3-3.8 0C15 22.4 7.9 13.7.7 5 .3 4.5.1 3.9 0 3.3v-.8z' style='fill:%23fff'/%3E%3C/svg%3E",
        contain
      );

      @include phone() {
        margin-inline-start: 0px;
        border: none;
        cursor: pointer;
        transition: transform 0.25s;
      }
    }
  }

  @include desktop() {
    &:hover {
      & > .dropdownBlock {
        display: block;
        opacity: 1;
        transform: scaleY(1);
      }
    }
  }

  @include tablet() {
    &:hover {
      & > .dropdownBlock {
        display: block;
        transform: scaleY(1);
      }
    }
  }
}

.dropdownBlock {
  position: absolute;
  min-width: 100%;
  left: 0;

  @include phone() {
    position: static;
    max-width: none;
    display: none;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
  }

  @include tablet() {
    transform: scaleY(0);
    transform-origin: 0 0;
    transition: transform 0.25s ease-out;
  }
}

.subitem {
  display: flex;
  padding: 16px;

  @include phone() {
    padding: 0;
  }
}

.submenu {
  background-color: var(--main-color);
  border-width: 2px;
  border-color: rgb(255, 255, 255);
  border-top-style: solid;
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  margin: auto;

  @include phone() {
    border: none;
    display: block;
    backdrop-filter: none;
    background-color: transparent;

    &:first-child {
      margin-block-start: 8px;
    }
  }
}

.sublink {
  color: white;
  @include adaptive-font(16, 14);

  @include phone() {
    @include adaptive-font(24, 20);
  }
}
